(function(e){function t(t){for(var n,l,o=t[0],s=t[1],i=t[2],d=0,p=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(c,l)&&c[l]&&p.push(c[l][0]),c[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,i||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var s=a[o];0!==c[s]&&(n=!1)}n&&(r.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},c={app:0},r=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/story-builder/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var i=0;i<o.length;i++)t(o[i]);var u=s;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("header",[e._m(0),a("div",[a("el-button",{attrs:{round:"",icon:"el-icon-s-tools"},on:{click:e.toggleExport}},[e._v("エクスポート設定")])],1)]),e.config.export?a("AppExport",{staticClass:"export",attrs:{acts:e.acts}}):e._e(),a("nav",[e._m(1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.characters}},[a("el-table-column",{attrs:{prop:"this",label:"名前",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("strong",[e._v(e._s(t.row))])]}}])}),a("el-table-column",{attrs:{prop:"delete",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.deleteChar(t.row)}}})]}}])})],1),a("el-input",{attrs:{type:"text",placeholder:"キャラ名",maxlength:"15","show-word-limit":""},model:{value:e.charName,callback:function(t){e.charName=t},expression:"charName"}},[a("el-button",{attrs:{slot:"append"},on:{click:function(t){return e.addChar(e.charName)}},slot:"append"},[e._v("追加")])],1),a("el-divider"),e._m(2),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.backgrounds}},[a("el-table-column",{attrs:{prop:"this",label:"名前",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("strong",[e._v(e._s(t.row))])]}}])}),a("el-table-column",{attrs:{prop:"delete",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.deleteBackground(t.row)}}})]}}])})],1),a("el-input",{attrs:{type:"text",placeholder:"背景名",maxlength:"15","show-word-limit":""},model:{value:e.backgroundName,callback:function(t){e.backgroundName=t},expression:"backgroundName"}},[a("el-button",{attrs:{slot:"append"},on:{click:function(t){return e.addBackground(e.backgroundName)}},slot:"append"},[e._v("追加")])],1),e._m(3),a("el-switch",{attrs:{"active-text":"コンパクト表示"},model:{value:e.config.compact,callback:function(t){e.$set(e.config,"compact",t)},expression:"config.compact"}})],1),a("main",[e._m(4),a("el-timeline",{staticClass:"acts"},[a("MainStart"),a("el-divider"),a("draggable",{attrs:{animation:250,handle:".handle"},model:{value:e.acts,callback:function(t){e.acts=t},expression:"acts"}},e._l(e.acts,(function(t,n){return a("el-timeline-item",{key:n,attrs:{size:"large"}},[a("Wrapper",{attrs:{act:t,i:n,config:e.config}},[a(t.type,{tag:"component",attrs:{act:t,characters:e.characters,backgrounds:e.backgrounds,index:n}})],1),a("button",{attrs:{slot:"header"},on:{click:e.addPeople},slot:"header"},[e._v("Add")])],1)})),1),a("el-divider"),a("MainEnd"),a("OptionEnd")],1)],1)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{attrs:{href:"http://github.com/otofuda/story-builder",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://otofuda.github.io/story-builder/logo.png",alt:"StoryBuilder"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"el-icon-user-solid"}),e._v(" キャラデータ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"el-icon-picture"}),e._v(" 背景データ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"el-icon-s-operation"}),e._v(" 表示")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"el-icon-tickets"}),e._v(" スクリプト")])}],l=(a("caad"),a("2532"),a("0be7")),o=a("310e"),s=a.n(o),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"say"},[a("label",[e._v("キャラの名前")]),a("el-select",{attrs:{placeholder:"キャラを選択",filterable:"","allow-create":""},model:{value:e.act.name,callback:function(t){e.$set(e.act,"name",t)},expression:"act.name"}},e._l(e.characters,(function(e){return a("el-option",{key:e,attrs:{value:e}})})),1),a("el-divider"),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Please input"},model:{value:e.act.body,callback:function(t){e.$set(e.act,"body",t)},expression:"act.body"}})],1)},u=[],d={name:"Say",props:{act:Object,characters:Array}},p=d,f=a("2877"),b=Object(f["a"])(p,i,u,!1,null,null,null),m=b.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"back"},[a("label",[e._v("背景の名前")]),a("el-select",{attrs:{placeholder:"背景を選択"},model:{value:e.act.name,callback:function(t){e.$set(e.act,"name",t)},expression:"act.name"}},e._l(e.backgrounds,(function(e){return a("el-option",{key:e,attrs:{value:e}})})),1)],1)},v=[],_={name:"Say",props:{act:Object,backgrounds:Array}},y=_,g=Object(f["a"])(y,h,v,!1,null,null,null),k=g.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fade-in"},[a("label",[e._v("遷移秒数")]),a("el-input-number",{attrs:{min:.01,precision:2,step:.1},on:{change:e.update},model:{value:e.act.duration,callback:function(t){e.$set(e.act,"duration",t)},expression:"act.duration"}})],1)},O=[],w={name:"FadeIn",props:{act:Object}},$=w,j=Object(f["a"])($,x,O,!1,null,null,null),E=j.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fade-out"},[a("label",[e._v("遷移秒数")]),a("el-input-number",{attrs:{min:.01,precision:2,step:.1},on:{change:e.update},model:{value:e.act.duration,callback:function(t){e.$set(e.act,"duration",t)},expression:"act.duration"}})],1)},C=[],B={name:"FadeOut",props:{act:Object}},F=B,M=Object(f["a"])(F,S,C,!1,null,null,null),N=M.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"join"},[a("label",[e._v("入場するキャラ")]),a("el-select",{attrs:{placeholder:"キャラを選択",filterable:"","allow-create":""},model:{value:e.act.name,callback:function(t){e.$set(e.act,"name",t)},expression:"act.name"}},e._l(e.characters,(function(e){return a("el-option",{key:e,attrs:{value:e}})})),1)],1)},I=[],P={name:"Join",props:{act:Object,characters:Array}},T=P,L=Object(f["a"])(T,A,I,!1,null,null,null),J=L.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"leave"},[a("label",[e._v("退場するキャラ")]),a("el-select",{attrs:{placeholder:"キャラを選択",filterable:"","allow-create":""},model:{value:e.act.name,callback:function(t){e.$set(e.act,"name",t)},expression:"act.name"}},e._l(e.characters,(function(e){return a("el-option",{key:e,attrs:{value:e}})})),1)],1)},R=[],W={name:"Leave",props:{act:Object,characters:Array}},q=W,U=Object(f["a"])(q,z,R,!1,null,null,null),H=U.exports,Y=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},D=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-start"},[a("h4",[a("i",{staticClass:"el-icon-sort-down"}),e._v(" メイン 開始 ")])])}],G={name:"MainStart",props:{act:Object}},K=G,Q=Object(f["a"])(K,Y,D,!1,null,null,null),V=Q.exports,X=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Z=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-end"},[a("h4",[a("i",{staticClass:"el-icon-arrow-up"}),e._v(" メイン 終了 ")])])}],ee={name:"MainEnd",props:{act:Object}},te=ee,ae=Object(f["a"])(te,X,Z,!1,null,null,null),ne=ae.exports,ce=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},re=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"option-end"},[a("h4",[a("i",{staticClass:"el-icon-minus"}),e._v(" オプション 終了 ")])])}],le={name:"OptionEnd",props:{act:Object}},oe=le,se=Object(f["a"])(oe,ce,re,!1,null,null,null),ie=se.exports,ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"wrapper"},[a("div",{staticClass:"clearfix handle",attrs:{slot:"header"},slot:"header"},[a("i",{class:e.getIcon}),e._v(" "+e._s(e.i)+" "),a("strong",[e._v(e._s(e.getType)+" - "+e._s(e.act.type))]),a("el-button",{staticStyle:{float:"right"},attrs:{size:"mini",type:"danger",icon:"el-icon-delete"}})],1),e.config.compact?e._e():a("div",{staticStyle:{padding:"20px 0"}},[e._t("default")],2)])},de=[],pe=(a("a9e3"),{name:"Wrapper",props:{act:Object,i:Number,config:Object},computed:{getType:function(){var e;switch(this.act.type){case"Say":e="通常セリフ";break;case"Back":e="背景変更";break;case"FadeIn":e="暗転解除";break;case"FadeOut":e="暗転";break;case"Join":e="キャラ入場";break;case"Leave":e="キャラ退場";break;case"MainStart":e="メイン開始";break;case"MainEnd":e="メイン終了";break;case"OptionEnd":e="Hoge";break;default:e=this.act.type;break}return e},getIcon:function(){var e;switch(this.act.type){case"Say":e="el-icon-chat-dot-square";break;case"Back":e="el-icon-picture";break;case"FadeIn":e="el-icon-caret-right";break;case"FadeOut":e="el-icon-caret-left";break;case"Join":e="el-icon-arrow-right";break;case"Leave":e="el-icon-arrow-left";break;case"MainStart":e="el-icon-film";break;case"MainEnd":e="el-icon-check";break;case"OptionEnd":e="el-icon-check";break;default:e="el-icon-question";break}return e}}}),fe=pe,be=(a("9043"),Object(f["a"])(fe,ue,de,!1,null,null,null)),me=be.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"export"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:16}},[e._v(" プレビュー｜ "),a("a",{ref:"dllink",staticClass:"kit-hl-alt",attrs:{target:"_blank",rel:"noopener noreferrer"}},[e._v("ファイルを取得")])]),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-folder-opened"},on:{click:e.exportFile}},[e._v("ファイルとしてエクスポート")])],1)],1),a("pre",{domProps:{textContent:e._s(e.generateScript)}})],1)},ve=[],_e=(a("99af"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("b85c")),ye={name:"AppExport",props:{acts:Array},computed:{generateScript:function(){var e,t="#main_start\n\n",a=Object(_e["a"])(this.acts);try{for(a.s();!(e=a.n()).done;){var n=e.value;switch(n.type){case"Say":t+="@say ".concat(n.name," ").concat(n.costume," ").concat(n.face,"\n"),t+="".concat(n.body,"\n@sayend");break;case"Back":t+="@back ".concat(n.name);break;case"FadeIn":t+="@fade In ".concat(n.duration);break;case"FadeOut":t+="@fade Out ".concat(n.duration);break;case"Join":t+="@join ".concat(n.name);break;case"Leave":t+="@leave ".concat(n.name);break}t+="\n\n"}}catch(c){a.e(c)}finally{a.f()}return t+="#main_end\n#option_end",t}},methods:{exportFile:function(){var e=new Blob([this.generateScript],{type:"text/plain"}),t=this.$refs.dllink;t.href=URL.createObjectURL(e),t.download="STORY.grimm.",t.click()}}},ge=ye,ke=(a("a4bf"),Object(f["a"])(ge,he,ve,!1,null,null,null)),xe=ke.exports,Oe={name:"App",data:function(){return{config:{compact:!1,export:!1},charName:"",characters:["華音","門音","空音","_"],backgroundName:"",backgrounds:["朝","夜"],acts:[{type:"Back",name:"夜"},{type:"FadeOut",duration:"0.01"},{type:"Say",name:"???",body:"これは、ある世界の物語",costume:0,face:0},{type:"FadeIn",duration:"0.5"},{type:"Back",name:"朝"},{type:"Say",name:"門音",body:"あの魔物は・・・私の兄の仇・・・絶対に許さない。",costume:0,face:0},{type:"Say",name:"怪物",body:"うぁぁぁぁぁ！やめてくれぇぇぇ！",costume:0,face:0},{type:"FadeOut",duration:"0.5"},{type:"Leave",name:"門音"},{type:"Say",name:"_",body:"必死に門音の方に手を伸ばす、しかしその手はあと一歩のところで届かない。\nあの時私の手が届いていれば・・・。",costume:0,face:0},{type:"Leave",name:"華音"},{type:"FadeIn",duration:"0.5"}]}},mounted:function(){l["a"].init()},methods:{toggleExport:function(){this.config.export=!this.config.export},addChar:function(e){this.characters.includes(e)?this.$alert("登録済みです。"):0==e.size?this.$alert("キャラクターの名前を入力してください。"):(this.characters.append(e),this.charName="",this.$message({type:"success",message:"キャラクター「".concat(e,"」を追加しました。")}))},deleteChar:function(e){var t=this;this.$confirm("本当にキャラクター「".concat(e,"」を削除しますか？（既に登録されているアクションは削除されません。）"),"確認",{confirmButtonText:"削除",cancelButtonText:"キャンセル",type:"warning"}).then((function(){t.characters=t.characters.delete(e),t.$message({type:"success",message:"「".concat(e,"」を削除しました。")})}))},addBackground:function(e){this.backgrounds.includes(e)?this.$alert("登録済みです。"):0==e.size?this.$alert("背景の名前を入力してください。"):(this.backgrounds.append(e),this.backgroundName="",this.$message({type:"success",message:"背景「".concat(e,"」を追加しました。")}))},deleteBackground:function(e){var t=this;this.$confirm("本当に背景「".concat(e,"」を削除しますか？（既に登録されているアクションは削除されません。）"),"確認",{confirmButtonText:"削除",cancelButtonText:"キャンセル",type:"warning"}).then((function(){t.backgrounds=t.backgrounds.delete(e),t.$message({type:"success",message:"「".concat(e,"」を削除しました。")})}))}},components:{draggable:s.a,Say:m,Back:k,FadeIn:E,FadeOut:N,Join:J,Leave:H,MainStart:V,MainEnd:ne,OptionEnd:ie,Wrapper:me,AppExport:xe}},we=Oe,$e=(a("5c0b"),Object(f["a"])(we,c,r,!1,null,null,null)),je=$e.exports,Ee=a("5c96"),Se=a.n(Ee),Ce=(a("0fae"),a("c3ff")),Be=a.n(Ce);n["default"].use(Se.a,{locale:Be.a});a("9051"),a("bed8");n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(je)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),c=a.n(n);c.a},9043:function(e,t,a){"use strict";var n=a("b9e0"),c=a.n(n);c.a},"94c1":function(e,t,a){},"9c0c":function(e,t,a){},a4bf:function(e,t,a){"use strict";var n=a("94c1"),c=a.n(n);c.a},b9e0:function(e,t,a){}});
//# sourceMappingURL=app.05126d64.js.map